(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["userpage-updateInfo"],{"0cd9":function(n,t,e){"use strict";e.r(t);var a=e("6b6c"),i=e.n(a);for(var o in a)["default"].indexOf(o)<0&&function(n){e.d(t,n,(function(){return a[n]}))}(o);t["default"]=i.a},"0f67":function(n,t,e){"use strict";e("7a82");var a=e("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.withdrawConfig=t.updateName=t.towithdraw=t.torenew=t.toRecharge=t.toRealname=t.thirdIsRealname=t.testApi=t.isRealname=t.info=t.getmyselfAssets=t.getmyTeamDetail=t.getmyTeam=t.getbalanceLog=t.getSelfmenu=t.getSVIPTips=t.getRechargeConfig=t.getRealnameDetail=t.getOldBrand=t.getNewBrand=t.getMyfans=t.getCollectlist=t.getChildMenu=t.getCard=t.getBanklist=t.editBankInfo=t.changeHeadImg=t.bindRecommend=t.bindMobile=t.bindBankcard=t.assets=void 0;var i=a(e("5530")),o=a(e("1601")),r={userInfo:"zuser/myself",assets:"user/assets",bindMobile:"user/bindMobile",is_realname_url:"idcard/is_realname",getRealname_url:"idcard/detail",toRealname_url:"idcard/add",renew_url:"appverson/is_renew",getNewBrand_url:"appverson/detail",getoldBrand_url:"appverson/list",gettest_url:"https://open.zhongwy.cn/api/v1/client/coin/getprice",getSvip_Tips:"user/zfinan_svip_tip",getmyTeam_url:"user/myTeam",getmyTeamDetail_url:"user/myTeamDetail",bindRecommend_url:"user/user_bind_pid",getcard_url:"idcard/bank_card",bindbankcard_url:"idcard/add_bank_card",getbanklist_url:"idcard/bank_list",editBankInfo_url:"idcard/set_bank_card",getSelfmenu_url:"user/myself_menu",thirdrealname:"zuser/login_lfx_check",get_child_menu:"zuser/myself_child",changeHeadImg_url:"zuser/userAvatar",getmyself_assets:"zuser/myself_assets",getbalanceLog_url:"zuser/balanceLog",updateNickName:"zuser/nickName",getrecharge_config:"zuser/recharge_config",torecharge_url:"zuser/recharge",withdraw_config:"zuser/withdraw_config",towithdraw_url:"zuser/withdraw",getCollectlist_url:"zuser/my_collect",getmyfans:"/zuser/fans"};t.getMyfans=function(n){return o.default.get(r.getmyfans,n)};t.getCollectlist=function(n){return o.default.get(r.getCollectlist_url,n)};t.towithdraw=function(n){return o.default.post(r.towithdraw_url,n)};t.withdrawConfig=function(n){return o.default.post(r.withdraw_config,n)};t.toRecharge=function(n){return o.default.post(r.torecharge_url,n)};t.getRechargeConfig=function(n){return o.default.post(r.getrecharge_config,n)};t.updateName=function(n){return o.default.post(r.updateNickName,n)};t.getbalanceLog=function(n){return o.default.get(r.getbalanceLog_url,n)};t.getmyselfAssets=function(n){return o.default.get(r.getmyself_assets,n)};t.changeHeadImg=function(n){return o.default.post(r.changeHeadImg_url,n)};t.getChildMenu=function(n){return o.default.post(r.get_child_menu,n)};t.thirdIsRealname=function(n){return o.default.post(r.thirdrealname,n)};t.getSelfmenu=function(n){return o.default.post(r.getSelfmenu_url,n)};t.editBankInfo=function(n){return o.default.post(r.editBankInfo_url,n)};t.getBanklist=function(n){return o.default.post(r.getbanklist_url,n)};t.bindBankcard=function(n){return o.default.post(r.bindbankcard_url,n)};t.getCard=function(n){return o.default.post(r.getcard_url,n)};t.bindRecommend=function(n){return o.default.post(r.bindRecommend_url,n)};t.getmyTeam=function(n){return o.default.post(r.getmyTeam_url,n)};t.getmyTeamDetail=function(n){return o.default.post(r.getmyTeamDetail_url,n)};t.getSVIPTips=function(n){return o.default.get(r.getSvip_Tips,n)};t.testApi=function(n){return o.default.post(r.gettest_url,n)};t.getOldBrand=function(n){return o.default.post(r.getoldBrand_url,n)};t.getNewBrand=function(n){return o.default.post(r.getNewBrand_url,n)};t.torenew=function(n){return o.default.post(r.renew_url,n)};t.toRealname=function(n){return o.default.post(r.toRealname_url,n)};t.getRealnameDetail=function(n){return o.default.post(r.getRealname_url)};t.isRealname=function(n){return o.default.post(r.is_realname_url)};t.info=function(n,t){var e=(0,i.default)({isPrompt:!0,load:!0},t);return o.default.get(r.userInfo,n,e)};t.assets=function(n,t){return o.default.get(r.assets,n,t)};t.bindMobile=function(n,t){return o.default.post(r.bindMobile,n,t)}},1302:function(n,t,e){"use strict";e.r(t);var a=e("f7fe"),i=e("0cd9");for(var o in i)["default"].indexOf(o)<0&&function(n){e.d(t,n,(function(){return i[n]}))}(o);e("a3c6");var r=e("f0c5"),s=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"36307caf",null,!1,a["a"],void 0);t["default"]=s.exports},"21f2":function(n,t,e){"use strict";e.d(t,"b",(function(){return i})),e.d(t,"c",(function(){return o})),e.d(t,"a",(function(){return a}));var a={uIcon:e("0648").default,uPopup:e("8eb6").default,uToast:e("1302").default},i=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("v-uni-view",{staticClass:"container"},[e("v-uni-image",{staticStyle:{width:"100vw",height:"100vh",position:"fixed",top:"0",bottom:"0",left:"0","z-index":"-1"},attrs:{src:n.bgimage,mode:"widthFix"}}),e("v-uni-view",{staticClass:"data-box",staticStyle:{"margin-top":"0"}},[e("v-uni-view",{staticClass:"content-item"},[e("span",[n._v("头像")]),e("v-uni-view",{staticClass:"item-right"},[e("v-uni-button",{staticClass:"avatarimg-box",attrs:{"open-type":"chooseAvatar"},on:{chooseavatar:function(t){arguments[0]=t=n.$handleEvent(t),n.onChooseAvatar.apply(void 0,arguments)}}},[e("v-uni-image",{staticStyle:{width:"110rpx",height:"110rpx","margin-right":"20rpx","border-radius":"100%"},attrs:{src:n.userInfo.avatar_img?n.userInfo.avatar_img:"/static/default-avatar.png"}})],1),e("u-icon",{attrs:{name:"arrow-right",size:"30",color:"#666"}})],1)],1),e("v-uni-view",{staticClass:"content-item",on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.openUpdate()}}},[e("span",[n._v("昵称")]),e("v-uni-view",{staticClass:"item-right"},[e("v-uni-view",{staticStyle:{"margin-right":"20rpx"}},[n._v(n._s(n.userInfo.nick_name))]),e("u-icon",{attrs:{name:"arrow-right",size:"30",color:"#666"}})],1)],1)],1),e("v-uni-view",{staticClass:"data-box"},n._l(n.service,(function(t){return e("v-uni-view",{key:t.id,staticClass:"content-item",on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.toUpdatePwd(t)}}},[e("span",[n._v(n._s(t.name))]),e("v-uni-view",{staticClass:"item-right"},[e("u-icon",{attrs:{name:"arrow-right",size:"30",color:"#666"}})],1)],1)})),1),e("u-popup",{attrs:{width:"600",mode:"center",height:"400"},model:{value:n.show_name,callback:function(t){n.show_name=t},expression:"show_name"}},[e("v-uni-view",{staticClass:"nick_name"},[e("v-uni-form",{on:{submit:function(t){arguments[0]=t=n.$handleEvent(t),n.updateName.apply(void 0,arguments)}}},[e("v-uni-view",{staticStyle:{margin:"20rpx auto",width:"100%","text-align":"center"}},[n._v("修改昵称")]),e("v-uni-input",{staticStyle:{width:"500rpx",border:"1rpx solid #ddd",margin:"30rpx auto"},attrs:{placeholder:"请输入昵称",name:"nickname",type:"nickname"},on:{blur:function(t){arguments[0]=t=n.$handleEvent(t),n.getNickname.apply(void 0,arguments)}},model:{value:n.nick_name,callback:function(t){n.nick_name=t},expression:"nick_name"}}),e("v-uni-view",{staticClass:"btn-box"},[e("v-uni-button",{staticClass:"btn",attrs:{size:"medium"},on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.cancelUpdate.apply(void 0,arguments)}}},[n._v("取消")]),e("v-uni-button",{staticClass:"btn active-btn",attrs:{size:"medium",formType:"submit",type:"error"}},[n._v("确定")])],1)],1)],1)],1),e("cropImg",{ref:"gmyImgCropper",attrs:{quality:1,cropperType:"fixed",imgSrc:n.url},on:{getImg:function(t){arguments[0]=t=n.$handleEvent(t),n.getImg.apply(void 0,arguments)}}}),e("u-toast",{ref:"uToast"}),n.userInfo.mobile?e("v-uni-view",{staticClass:"my-logout"},[e("v-uni-view",{staticClass:"logout-btn",on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.handleLogout()}}},[e("v-uni-text",[n._v("退出登录")])],1)],1):n._e()],1)},o=[]},"243c":function(n,t,e){"use strict";e.r(t);var a=e("694c"),i=e.n(a);for(var o in a)["default"].indexOf(o)<0&&function(n){e.d(t,n,(function(){return a[n]}))}(o);t["default"]=i.a},4530:function(n,t,e){"use strict";var a=e("ccef"),i=e.n(a);i.a},"610b":function(n,t,e){"use strict";e.r(t);var a=e("ee0b"),i=e("243c");for(var o in i)["default"].indexOf(o)<0&&function(n){e.d(t,n,(function(){return i[n]}))}(o);e("63ed");var r=e("f0c5"),s=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"50bd397d",null,!1,a["a"],void 0);t["default"]=s.exports},"63ed":function(n,t,e){"use strict";var a=e("e1f0"),i=e.n(a);i.a},"694c":function(n,t,e){"use strict";e("7a82");var a=e("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(e("3835"));e("a9e3"),e("d3b7"),e("159b"),e("b64b");var o,r,s,u,c,d,l,p,f,g,h,v=uni.getSystemInfoSync(),m=v.screenWidth,b=v.windowHeight+40,w=(v.pixelRatio,v.screenWidth),y={data:function(){return{imageSrc:"",isShow:!1,isShowImg:!1,cropperInitW:m,cropperInitH:b,cropperW:m,cropperH:b-100,cropperL:0,cropperT:0,transL:0,transT:0,scaleP:0,imageW:0,imageH:0,cutL:0,cutT:0,cutB:m,cutR:"100%",qualityWidth:w,innerAspectRadio:1}},props:{quality:{type:Number|String,default:1},imgSrc:String,fileType:{type:String,default:"png",validator:function(n){return"png"===n||"jpg"===n}},cropperType:{type:String,default:"free",validator:function(n){return"free"===n||"fixed"===n||"ratio"===n}},ratio:{type:Number,default:1}},created:function(){this.imgSrc&&(this.imageSrc=this.imgSrc,this.loadImage(),this.isShow=!0,this.isShowImg=!0)},methods:{setData:function(n){var t=this;Object.keys(n).forEach((function(e){t.$set(t.$data,e,n[e])}))},chooseImage:function(n){var t=this;console.log("这里====="),console.log(n),uni.chooseImage({count:1,success:function(n){n.tempFiles[0].size/1024<5120?(t.setData({imageSrc:n.tempFilePaths[0]}),t.loadImage(),t.isShow=!0):uni.showToast({title:"图片大小不能超过5120KB，当前大小"+(n.tempFiles[0].size/1024).toFixed(2)+"KB",icon:"none"})}})},loadImage:function(){var n=this;uni.showLoading({title:"图片加载中..."}),uni.getImageInfo({src:n.imageSrc,success:function(t){var e=t.height,a=t.width;f=a/e,f<1&&(b-120)*f<m-10?(g=(b-120)*f,h=b-120):(g=m-10,h=g/f);var o=n.initCutArea(f,h,g),r=(0,i.default)(o,4),s=r[0],u=r[1],c=r[2],d=r[3];n.setData({cropperW:g-20,cropperH:h-20,cropperL:Math.ceil((m-g)/2),cropperT:Math.ceil((b-h-90)/2),cutL:c,cutT:s,cutR:d,cutB:u,imageW:g,imageH:h,scaleP:g/m,qualityWidth:w,innerAspectRadio:f}),n.setData({isShowImg:!0}),uni.hideLoading()}})},initCutArea:function(n,t,e){var a=0,i=0,o=0,r=0;if("fixed"==this.cropperType&&(n<1?(a=(t-e)/2,i=(t-e)/2):(o=(e-t)/2,r=(e-t)/2)),"ratio"==this.cropperType){var s=+this.ratio;n<1?e/s>t?(a=i=0,o=r=(e-t*s)/2):(r=o=0,a=i=(t-e/s)/2):t*s>e?(o=r=0,i=a=(t-e/s)/2):(a=i=0,o=r=(e-t*s)/2)}return[a,i,o,r]},contentStartMove:function(n){o=n.touches[0].pageX,r=n.touches[0].pageY},contentMoveing:function(n){var t=1*(o-n.touches[0].pageX),e=1*(r-n.touches[0].pageY);t>0?this.cutL-t<0&&(t=this.cutL):this.cutR+t<0&&(t=-this.cutR),e>0?this.cutT-e<0&&(e=this.cutT):this.cutB+e<0&&(e=-this.cutB),this.setData({cutL:this.cutL-t,cutT:this.cutT-e,cutR:this.cutR+t,cutB:this.cutB+e}),o=n.touches[0].pageX,r=n.touches[0].pageY},contentTouchEnd:function(){},previewImg:function(){var n=this;try{var t=this;uni.showLoading({title:"图片生成中..."});var e=uni.createCanvasContext("myCanvas",t);e.drawImage(t.imageSrc,0,0,g,h),e.draw(!0,(function(){var e=(t.cropperW-t.cutL-t.cutR)/t.cropperW*g,a=(t.cropperH-t.cutT-t.cutB)/t.cropperH*h,i=t.cutL/t.cropperW*g,o=t.cutT/t.cropperH*h;uni.canvasToTempFilePath({x:i,y:o,width:e,height:a,quality:+n.quality,fileType:n.fileType,canvasId:"myCanvas",success:function(n){uni.hideLoading(),uni.previewImage({current:"",urls:[n.tempFilePath]})},fail:function(n){uni.hideLoading(),uni.showToast({title:"图片截取失败！",icon:"none"})}},t)}))}catch(a){}},finish:function(){var n=this,t=this;uni.showLoading({title:"图片生成中..."});var e=uni.createCanvasContext("myCanvas",t);e.drawImage(t.imageSrc,0,0,g,h),e.draw(!0,(function(){var e=(t.cropperW-t.cutL-t.cutR)/t.cropperW*g,a=(t.cropperH-t.cutT-t.cutB)/t.cropperH*h,i=t.cutL/t.cropperW*g,o=t.cutT/t.cropperH*h;uni.canvasToTempFilePath({x:i,y:o,width:e,height:a,quality:+n.quality,fileType:n.fileType,canvasId:"myCanvas",success:function(n){uni.hideLoading(),console.log("裁剪==========="),console.log(n),t.$emit("getImg",n.tempFilePath),t.isShow=!1},fail:function(n){uni.hideLoading(),uni.showToast({title:"图片截取失败！",icon:"none"})}},t)}))},dragStart:function(n){s=n.touches[0].pageX,u=n.touches[0].pageY,c=this.cutL,l=this.cutR,p=this.cutB,d=this.cutT},dragMove:function(n){this[this.cropperType+"Drag"](n)},fixedDrag:function(n){var t=n.target.dataset.drag;switch(t){case"rightBottom":var e=1*(s-n.touches[0].pageX);l+e<0&&(e=-l);var a=p+e,i=l+e;if(0==this.cutB&&a<0)return;if(0==this.cutR&&i<0)return;(this.cutB>0||0==p)&&this.setData({cutB:a<0?0:a,cutR:i});break;default:break}},ratioDrag:function(n){var t=n.target.dataset.drag;switch(t){case"rightBottom":var e=1*(s-n.touches[0].pageX);l+e<0&&(e=-l);var a=p+e/this.ratio,i=l+e;if(0==this.cutB&&a<0)return;if(0==this.cutR&&i<0)return;(this.cutB>0||0==p)&&this.setData({cutB:a<0?0:a,cutR:i});break;default:break}},freeDrag:function(n){var t=n.target.dataset.drag;switch(t){case"right":var e=1*(s-n.touches[0].pageX);l+e<0&&(e=-l),this.setData({cutR:l+e});break;case"left":e=1*(s-n.touches[0].pageX);c-e<0&&(e=c),c-e>this.cropperW-this.cutR&&(e=c-(this.cropperW-this.cutR)),this.setData({cutL:c-e});break;case"top":e=1*(u-n.touches[0].pageY);d-e<0&&(e=d),d-e>this.cropperH-this.cutB&&(e=d-(this.cropperH-this.cutB)),this.setData({cutT:d-e});break;case"bottom":e=1*(u-n.touches[0].pageY);p+e<0&&(e=-p),this.setData({cutB:p+e});break;case"rightBottom":var a=1*(s-n.touches[0].pageX),i=1*(u-n.touches[0].pageY);p+i<0&&(i=-p),l+a<0&&(a=-l);var o=p+i,r=l+a;this.setData({cutB:o,cutR:r});break;default:break}}}};t.default=y},"6b6c":function(n,t,e){"use strict";e("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e("a9e3"),e("c975"),e("b64b"),e("ac1f"),e("00b4");var a={name:"u-toast",props:{zIndex:{type:[Number,String],default:""}},data:function(){return{isShow:!1,timer:null,config:{params:{},title:"",type:"",duration:2e3,isTab:!1,url:"",icon:!0,position:"center",callback:null,back:!1},tmpConfig:{}}},computed:{iconName:function(){if(["error","warning","success","info"].indexOf(this.tmpConfig.type)>=0&&this.tmpConfig.icon){var n=this.$u.type2icon(this.tmpConfig.type);return n}},uZIndex:function(){return this.isShow?this.zIndex?this.zIndex:this.$u.zIndex.toast:"999999"}},methods:{show:function(n){var t=this;this.tmpConfig=this.$u.deepMerge(this.config,n),this.timer&&(clearTimeout(this.timer),this.timer=null),this.isShow=!0,this.timer=setTimeout((function(){t.isShow=!1,clearTimeout(t.timer),t.timer=null,"function"===typeof t.tmpConfig.callback&&t.tmpConfig.callback(),t.timeEnd()}),this.tmpConfig.duration)},hide:function(){this.isShow=!1,this.timer&&(clearTimeout(this.timer),this.timer=null)},timeEnd:function(){if(this.tmpConfig.url){if("/"!=this.tmpConfig.url[0]&&(this.tmpConfig.url="/"+this.tmpConfig.url),Object.keys(this.tmpConfig.params).length){var n="";/.*\/.*\?.*=.*/.test(this.tmpConfig.url)?(n=this.$u.queryParams(this.tmpConfig.params,!1),this.tmpConfig.url=this.tmpConfig.url+"&"+n):(n=this.$u.queryParams(this.tmpConfig.params),this.tmpConfig.url+=n)}this.tmpConfig.isTab?uni.switchTab({url:this.tmpConfig.url}):uni.navigateTo({url:this.tmpConfig.url})}else this.tmpConfig.back&&this.$u.route({type:"back"})}}};t.default=a},"7f84":function(n,t,e){"use strict";e("7a82");var a=e("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.image=void 0,e("d3b7"),e("d81d");var i=a(e("1601"));t.image=function(n){return new Promise((function(t,e){i.default.urlFileUpload({files:n,maxSize:2097152}).then((function(n){return t(n.map((function(n){return n.data.fileInfo.file_id})),n)})).catch(e)}))}},8670:function(n,t,e){var a=e("24fb");t=a(!1),t.push([n.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* 引入uView全局scss变量文件 */.data-box[data-v-8a326e04]{width:100%;background-color:#fff;margin:%?20?% 0}.content-item[data-v-8a326e04]{width:%?680?%;margin:0 auto;height:%?120?%;display:flex;justify-content:space-between;align-items:center;border-bottom:%?1?% solid #ddd}.content-item[data-v-8a326e04]:last-child{border:none}.item-right[data-v-8a326e04]{display:flex;justify-content:flex-end;align-items:center;color:#666;padding:%?10?% 0}.item-right .avatarimg-box[data-v-8a326e04]{padding:%?10?%;display:flex;align-items:center;justify-content:center;background:none}.nick_name[data-v-8a326e04]{width:100%;height:100%;display:flex;align-items:center;flex-direction:column;padding-top:%?30?%;background-color:#fff;border-radius:%?20?%}.nick_name uni-input[data-v-8a326e04]{padding:%?15?%;margin-top:%?40?%}[data-v-8a326e04] .u-mode-center-box{background-color:initial!important}.btn-box[data-v-8a326e04]{margin:%?20?% auto;width:100%;margin-top:%?60?%;display:flex;justify-content:space-around;align-items:center}.btn-box .btn[data-v-8a326e04]{padding:0;height:%?70?%;line-height:%?70?%;padding:%?0?% %?30?%;font-size:%?34?%}.btn-box .active-btn[data-v-8a326e04]{background:#fa315d;color:#fff}.my-logout[data-v-8a326e04]{display:flex;justify-content:center;margin-top:%?50?%}.my-logout .logout-btn[data-v-8a326e04]{width:60%;margin:0 auto;font-size:%?28?%;color:#616161;border-radius:%?20?%;border:1px solid #dcdcdc;padding:%?16?% 0;text-align:center}',""]),n.exports=t},"8cde":function(n,t,e){"use strict";e.r(t);var a=e("21f2"),i=e("9e23");for(var o in i)["default"].indexOf(o)<0&&function(n){e.d(t,n,(function(){return i[n]}))}(o);e("4530");var r=e("f0c5"),s=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"8a326e04",null,!1,a["a"],void 0);t["default"]=s.exports},"9e23":function(n,t,e){"use strict";e.r(t);var a=e("c652"),i=e.n(a);for(var o in a)["default"].indexOf(o)<0&&function(n){e.d(t,n,(function(){return a[n]}))}(o);t["default"]=i.a},a3c6:function(n,t,e){"use strict";var a=e("b413"),i=e.n(a);i.a},b413:function(n,t,e){var a=e("dde1");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);var i=e("4f06").default;i("5218d977",a,!0,{sourceMap:!1,shadowMode:!1})},c652:function(n,t,e){"use strict";e("7a82");var a=e("dbce").default,i=e("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e("d3b7");var o=i(e("8d3b")),r=i(e("5aaf")),s=a(e("0f67")),u=i(e("7df2")),c=a(e("7f84")),d=i(e("610b")),l=(u.default.get("apiUrl"),{components:{cropImg:d.default},data:function(){return{bgimage:"",show_name:!1,userInfo:{},nick_name:"",url:"",service:[],menu_id:""}},onLoad:function(n){n.menu_id?(this.menu_id=n.menu_id,this.getChildMenu()):uni.navigateBack(),this.getUserInfo()},onShow:function(){var n=o.default.getters.commondata.bgimage?o.default.getters.commondata:r.default.get("CommonData");n&&n.bgimage&&(this.bgimage=n.bgimage)},methods:{getNickname:function(n){this.nick_name=n.detail.value},onChooseAvatar:function(n){var t=this;if(n.detail.avatarUrl){var e={};e.path=n.detail.avatarUrl,c.image([e]).then((function(n){t.uploadAvatar(n[0])}))}},getChildMenu:function(){var n=this,t={id:this.menu_id};s.getChildMenu(t).then((function(t){console.log("获取菜单",t),n.service=t.data.menu}))},tapImg:function(n){this.$refs.gmyImgCropper.chooseImage(n)},getImg:function(n){console.log("裁剪完成返回"),console.log(n),this.path=n,this.uploadImage(n)},toPreview:function(){this.userInfo.avatar_img&&uni.previewImage({urls:[this.userInfo.avatar_img]})},toUpdatePwd:function(n){this.$navTo(n.url)},toUpdateAddr:function(){uni.navigateTo({url:"./tzwallet"})},getUserInfo:function(){var n=this;s.info().then((function(t){n.userInfo=t.data.user}))},uploadImage:function(n){var t=this,e={};e.path=n,uni.showLoading({title:"头像上传中"}),c.image([e]).then((function(n){console.log("图片上传",n),console.log(n[0]),t.uploadAvatar(n[0])})).catch((function(n){console.log(n)})).finally((function(){uni.hideLoading()}))},uploadAvatar:function(n){var t=this;s.changeHeadImg({avatar_id:n}).then((function(n){t.$refs.uToast.show({title:"修改头像成功",type:"success"}),setTimeout((function(){t.getUserInfo()}),100)})).catch((function(n){}))},cancelUpdate:function(){this.show_name=!1},openUpdate:function(){this.show_name=!0},updateName:function(n){var t=this,e=this;if(console.log(n),console.log("nickname",e.nick_name),""!=n.detail.value.nick_name||""!=e.nick_name){var a={user_id:e.userInfo.user_id,nick_name:n.detail.value.nick_name?n.detail.value.nick_name:e.nick_name};console.log("这儿？",n.detail.value.nick_name,e.nick_name),console.log("ni",a.nick_name),s.updateName(a).then((function(n){console.log("成功"),e.$refs.uToast.show({title:"修改昵称成功",type:"success"})})).catch((function(n){e.$refs.uToast.show({title:"修改昵称失败",type:"warring"})})).finally((function(n){console.log("完成"),e.getUserInfo(),t.show_name=!1}))}else e.$refs.uToast.show({title:"请先输入新昵称",type:"warring"})},handleLogout:function(){var n=this;uni.showModal({title:"友情提示",content:"您确定要退出登录吗?",success:function(t){t.confirm&&o.default.dispatch("Logout",{}).then((function(t){return n.onRefreshPage()}))}})},onRefreshPage:function(){uni.navigateBack({delta:1,fail:function(){uni.reLaunch({url:"/pages/user/index"})}})}}});t.default=l},ccef:function(n,t,e){var a=e("8670");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);var i=e("4f06").default;i("fcedeade",a,!0,{sourceMap:!1,shadowMode:!1})},d134:function(n,t,e){var a=e("24fb");t=a(!1),t.push([n.i,'\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* pages/uni-cropper/index.wxss */.container[data-v-50bd397d]{background-color:#fff;position:fixed;top:0;left:0;right:0;bottom:50px;display:block;align-items:center;flex-direction:column;z-index:998;height:100vh}.cropper-config[data-v-50bd397d]{position:fixed;z-index:999;bottom:%?30?%;left:0;right:0;width:90%;margin:0 auto\n\t/* padding: 20upx 40upx; */}.button-box[data-v-50bd397d]{display:flex;flex-direction:row;justify-content:space-between;width:100%}.button-box uni-button[data-v-50bd397d]{width:25%;line-height:35px;height:35px}.cropper-content[data-v-50bd397d]{width:100%;min-height:%?750?%}.uni-corpper[data-v-50bd397d]{position:relative;overflow:hidden;box-sizing:border-box;margin:0 auto;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}.uni-corpper-content[data-v-50bd397d]{position:relative}.uni-corpper-content uni-image[data-v-50bd397d]{display:block;width:100%;min-width:0!important;max-width:none!important;\n\t/* height: 100%; */min-height:0!important;\n\t/* max-height: none !important; */max-height:calc(100vh - %?100?%);margin:0 auto;image-orientation:0deg!important}\n/* 移动图片效果 */.uni-cropper-drag-box[data-v-50bd397d]{position:absolute;z-index:1;top:0;right:0;bottom:0;left:0;cursor:move;background:rgba(0,0,0,.479)}\n/* 内部的信息 */.uni-corpper-crop-box[data-v-50bd397d]{position:absolute;z-index:2;max-height:calc(100vh - %?100?%);background:rgba(56,50,50,.479)}.uni-corpper-crop-box .uni-cropper-view-box[data-v-50bd397d]{position:relative;display:block;overflow:visible;width:100%;height:100%;max-height:calc(100vh - %?100?%);outline:%?5?% solid #646161;outline-color:#fff}\n/* 横向虚线 */.uni-cropper-dashed-h[data-v-50bd397d]{position:absolute;top:33.33333333%;left:0;width:100%;height:33.33333333%;border-top:%?1?% dashed hsla(0,0%,100%,.5);border-bottom:%?1?% dashed hsla(0,0%,100%,.5)}\n/* 纵向虚线 */.uni-cropper-dashed-v[data-v-50bd397d]{position:absolute;top:0;left:33.33333333%;width:33.33333333%;height:100%;border-right:%?1?% dashed hsla(0,0%,100%,.5);border-left:%?1?% dashed hsla(0,0%,100%,.5)}\n/* 四个方向的线  为了之后的拖动事件*/.uni-cropper-line-t[data-v-50bd397d]{position:absolute;top:0;left:0;display:block;width:100%;height:%?3?%;cursor:n-resize;opacity:.1;background-color:#fff}.uni-cropper-line-t[data-v-50bd397d]::before{position:absolute;z-index:11;top:50%;right:%?0?%;bottom:0;width:100%;height:%?41?%;content:"";-webkit-transform:translate3d(0,-50%,0);transform:translate3d(0,-50%,0);background:transparent}.uni-cropper-line-r[data-v-50bd397d]{position:absolute;top:0;right:%?0?%;display:block;width:%?3?%;height:100%;cursor:e-resize;opacity:.1;background-color:#fff}.uni-cropper-line-r[data-v-50bd397d]::before{position:absolute;z-index:11;top:0;bottom:0;left:50%;width:%?41?%;height:100%;content:"";-webkit-transform:translate3d(-50%,0,0);transform:translate3d(-50%,0,0);background:transparent}.uni-cropper-line-b[data-v-50bd397d]{position:absolute;bottom:0;left:0;display:block;width:100%;height:%?3?%;cursor:s-resize;opacity:.1;background-color:#fff}.uni-cropper-line-b[data-v-50bd397d]::before{position:absolute;z-index:11;top:50%;right:%?0?%;bottom:0;width:100%;height:%?41?%;content:"";-webkit-transform:translate3d(0,-50%,0);transform:translate3d(0,-50%,0);background:transparent}.uni-cropper-line-l[data-v-50bd397d]{position:absolute;top:0;left:0;display:block;width:%?3?%;height:100%;cursor:w-resize;opacity:.1;background-color:#fff}.uni-cropper-line-l[data-v-50bd397d]::before{position:absolute;z-index:11;top:0;bottom:0;left:50%;width:%?41?%;height:100%;content:"";-webkit-transform:translate3d(-50%,0,0);transform:translate3d(-50%,0,0);background:transparent}.uni-cropper-point[data-v-50bd397d]{position:absolute;z-index:3;width:%?5?%;height:%?5?%;opacity:.75;background-color:#918484}.point-t[data-v-50bd397d]{top:%?-3?%;left:50%;margin-left:%?-3?%;cursor:n-resize}.point-tr[data-v-50bd397d]{top:%?-3?%;left:100%;margin-left:%?-3?%;cursor:n-resize}.point-r[data-v-50bd397d]{top:50%;left:100%;margin-top:%?-3?%;margin-left:%?-3?%;cursor:n-resize}.point-rb[data-v-50bd397d]{position:absolute;z-index:1112;top:100%;left:100%;width:%?36?%;height:%?36?%;cursor:n-resize;-webkit-transform:translate3d(-50%,-50%,0);transform:translate3d(-50%,-50%,0);opacity:1;background-color:#e7dede}.point-b[data-v-50bd397d]{top:100%;left:50%;margin-top:%?-3?%;margin-left:%?-3?%;cursor:n-resize}.point-bl[data-v-50bd397d]{top:100%;left:0;margin-top:%?-3?%;margin-left:%?-3?%;cursor:n-resize}.point-l[data-v-50bd397d]{top:50%;left:0;margin-top:%?-3?%;margin-left:%?-3?%;cursor:n-resize}.point-lt[data-v-50bd397d]{top:0;left:0;margin-top:%?-3?%;margin-left:%?-3?%;cursor:n-resize}\n/* 裁剪框预览内容 */.uni-cropper-viewer[data-v-50bd397d]{position:relative;overflow:hidden;width:100%;height:100%}.uni-cropper-viewer uni-image[data-v-50bd397d]{position:absolute;z-index:2}',""]),n.exports=t},dde1:function(n,t,e){var a=e("24fb");t=a(!1),t.push([n.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* 引入uView全局scss变量文件 */.u-toast[data-v-36307caf]{position:fixed;z-index:-1;transition:opacity .3s;text-align:center;color:#fff;border-radius:%?8?%;background:#585858;display:flex;flex-direction:row;align-items:center;justify-content:center;font-size:%?28?%;opacity:0;pointer-events:none;padding:%?18?% %?40?%}.u-toast.u-show[data-v-36307caf]{opacity:1}.u-icon[data-v-36307caf]{margin-right:%?10?%;display:flex;flex-direction:row;align-items:center;line-height:normal}.u-position-center[data-v-36307caf]{left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);max-width:70%}.u-position-top[data-v-36307caf]{left:50%;top:20%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.u-position-bottom[data-v-36307caf]{left:50%;bottom:20%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.u-type-primary[data-v-36307caf]{color:#2979ff;background-color:#ecf5ff;border:1px solid #d7eafe}.u-type-success[data-v-36307caf]{color:#19be6b;background-color:#dbf1e1;border:1px solid #bef5c8}.u-type-error[data-v-36307caf]{color:#fa3534;background-color:#fef0f0;border:1px solid #fde2e2}.u-type-warning[data-v-36307caf]{color:#f90;background-color:#fdf6ec;border:1px solid #faecd8}.u-type-info[data-v-36307caf]{color:#909399;background-color:#f4f4f5;border:1px solid #ebeef5}.u-type-default[data-v-36307caf]{color:#fff;background-color:#585858}',""]),n.exports=t},e1f0:function(n,t,e){var a=e("d134");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);var i=e("4f06").default;i("772b5b82",a,!0,{sourceMap:!1,shadowMode:!1})},ee0b:function(n,t,e){"use strict";e.d(t,"b",(function(){return a})),e.d(t,"c",(function(){return i})),e.d(t,"a",(function(){}));var a=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:n.isShow,expression:"isShow"}],staticClass:"container"},[e("v-uni-view",[e("v-uni-view",{staticClass:"cropper-content"},[n.isShowImg?e("v-uni-view",{staticClass:"uni-corpper",style:"width:"+n.cropperInitW+"px;height:"+n.cropperInitH+"px;background:#000"},[e("v-uni-view",{staticClass:"uni-corpper-content",style:"width:"+n.cropperW+"px;height:"+n.cropperH+"px;left:"+n.cropperL+"px;top:"+n.cropperT+"px"},[e("v-uni-image",{style:"width:"+n.cropperW+"px;height:"+n.cropperH+"px",attrs:{src:n.imageSrc}}),e("v-uni-view",{staticClass:"uni-corpper-crop-box",style:"left:"+n.cutL+"px;top:"+n.cutT+"px;right:"+n.cutR+"px;bottom:"+n.cutB+"px",on:{touchstart:function(t){t.stopPropagation(),arguments[0]=t=n.$handleEvent(t),n.contentStartMove.apply(void 0,arguments)},touchmove:function(t){t.stopPropagation(),arguments[0]=t=n.$handleEvent(t),n.contentMoveing.apply(void 0,arguments)},touchend:function(t){t.stopPropagation(),arguments[0]=t=n.$handleEvent(t),n.contentTouchEnd.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"uni-cropper-view-box"},[e("v-uni-view",{staticClass:"uni-cropper-dashed-h"}),e("v-uni-view",{staticClass:"uni-cropper-dashed-v"}),e("v-uni-view",{staticClass:"uni-cropper-line-t",attrs:{"data-drag":"top"},on:{touchstart:function(t){t.stopPropagation(),arguments[0]=t=n.$handleEvent(t),n.dragStart.apply(void 0,arguments)},touchmove:function(t){t.stopPropagation(),arguments[0]=t=n.$handleEvent(t),n.dragMove.apply(void 0,arguments)}}}),e("v-uni-view",{staticClass:"uni-cropper-line-r",attrs:{"data-drag":"right"},on:{touchstart:function(t){t.stopPropagation(),arguments[0]=t=n.$handleEvent(t),n.dragStart.apply(void 0,arguments)},touchmove:function(t){t.stopPropagation(),arguments[0]=t=n.$handleEvent(t),n.dragMove.apply(void 0,arguments)}}}),e("v-uni-view",{staticClass:"uni-cropper-line-b",attrs:{"data-drag":"bottom"},on:{touchstart:function(t){t.stopPropagation(),arguments[0]=t=n.$handleEvent(t),n.dragStart.apply(void 0,arguments)},touchmove:function(t){t.stopPropagation(),arguments[0]=t=n.$handleEvent(t),n.dragMove.apply(void 0,arguments)}}}),e("v-uni-view",{staticClass:"uni-cropper-line-l",attrs:{"data-drag":"left"},on:{touchstart:function(t){t.stopPropagation(),arguments[0]=t=n.$handleEvent(t),n.dragStart.apply(void 0,arguments)},touchmove:function(t){t.stopPropagation(),arguments[0]=t=n.$handleEvent(t),n.dragMove.apply(void 0,arguments)}}}),e("v-uni-view",{staticClass:"uni-cropper-point point-t",attrs:{"data-drag":"top"},on:{touchstart:function(t){t.stopPropagation(),arguments[0]=t=n.$handleEvent(t),n.dragStart.apply(void 0,arguments)},touchmove:function(t){t.stopPropagation(),arguments[0]=t=n.$handleEvent(t),n.dragMove.apply(void 0,arguments)}}}),e("v-uni-view",{staticClass:"uni-cropper-point point-tr",attrs:{"data-drag":"topTight"}}),e("v-uni-view",{staticClass:"uni-cropper-point point-r",attrs:{"data-drag":"right"},on:{touchstart:function(t){t.stopPropagation(),arguments[0]=t=n.$handleEvent(t),n.dragStart.apply(void 0,arguments)},touchmove:function(t){t.stopPropagation(),arguments[0]=t=n.$handleEvent(t),n.dragMove.apply(void 0,arguments)}}}),e("v-uni-view",{staticClass:"uni-cropper-point point-rb",attrs:{"data-drag":"rightBottom"},on:{touchstart:function(t){t.stopPropagation(),arguments[0]=t=n.$handleEvent(t),n.dragStart.apply(void 0,arguments)},touchmove:function(t){t.stopPropagation(),arguments[0]=t=n.$handleEvent(t),n.dragMove.apply(void 0,arguments)}}}),e("v-uni-view",{staticClass:"uni-cropper-point point-b",attrs:{"data-drag":"bottom"},on:{touchstart:function(t){t.stopPropagation(),arguments[0]=t=n.$handleEvent(t),n.dragStart.apply(void 0,arguments)},touchmove:function(t){t.stopPropagation(),arguments[0]=t=n.$handleEvent(t),n.dragMove.apply(void 0,arguments)},touchend:function(t){t.stopPropagation(),arguments[0]=t=n.$handleEvent(t),n.dragEnd.apply(void 0,arguments)}}}),e("v-uni-view",{staticClass:"uni-cropper-point point-bl",attrs:{"data-drag":"bottomLeft"}}),e("v-uni-view",{staticClass:"uni-cropper-point point-l",attrs:{"data-drag":"left"},on:{touchstart:function(t){t.stopPropagation(),arguments[0]=t=n.$handleEvent(t),n.dragStart.apply(void 0,arguments)},touchmove:function(t){t.stopPropagation(),arguments[0]=t=n.$handleEvent(t),n.dragMove.apply(void 0,arguments)}}}),e("v-uni-view",{staticClass:"uni-cropper-point point-lt",attrs:{"data-drag":"leftTop"}})],1)],1)],1)],1):n._e()],1),e("v-uni-view",{staticClass:"cropper-config"},[e("v-uni-view",{staticClass:"button-box"},[e("v-uni-button",{attrs:{type:"warn"},on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.chooseImage.apply(void 0,arguments)}}},[n._v("重选")]),e("v-uni-button",{attrs:{type:"warn"},on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.finish.apply(void 0,arguments)}}},[n._v("完成")])],1)],1),e("v-uni-canvas",{style:"position:absolute;border: 2px solid red; width:"+n.imageW+"px;height:"+n.imageH+"px;top:-9999px;left:-9999px;",attrs:{"canvas-id":"myCanvas"}})],1)],1)},i=[]},f7fe:function(n,t,e){"use strict";e.d(t,"b",(function(){return i})),e.d(t,"c",(function(){return o})),e.d(t,"a",(function(){return a}));var a={uIcon:e("0648").default},i=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("v-uni-view",{staticClass:"u-toast",class:[n.isShow?"u-show":"","u-type-"+n.tmpConfig.type,"u-position-"+n.tmpConfig.position],style:{zIndex:n.uZIndex}},[e("v-uni-view",{staticClass:"u-icon-wrap"},[n.tmpConfig.icon?e("u-icon",{staticClass:"u-icon",attrs:{name:n.iconName,size:30,color:n.tmpConfig.type}}):n._e()],1),e("v-uni-text",{staticClass:"u-text"},[n._v(n._s(n.tmpConfig.title))])],1)},o=[]}}]);